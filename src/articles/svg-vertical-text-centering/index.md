---
title: 'Простое вертикальное центрирование текста с помощью SVG'
date: 2013-03-26
author: lea-verou
source:
    title: 'Easily center text vertically, with SVG!'
    url: 'https://lea.verou.me/2013/03/easily-center-text-vertically-with-svg/'
translators:
    - anton-nemtsev
editors:
    - vadim-makeev
layout: article.njk
tags:
    - article
    - js
preview: 'Существует множество способов вертикального выравнивания текста в контейнере произвольных размеров. Однако, иногда бывает так, что ни один из них не подходит, и вот — я предлагаю ещё один вариант. Естественно, у него есть свои недостатки, но в некоторых случаях он подойдёт лучше, чем существующие решения.'
---

Существует множество способов вертикального выравнивания текста в контейнере произвольных размеров:

- использование `display: table`;
- Flexbox;
- хаки с использованием `display: inline-block`;
- оборачивание текста в дополнительный элемент и его абсолютное позиционирование;

…и, вероятно, множество других, о которых я уже забыла.

Однако, иногда бывает так, что ни один из них не подходит, и вот — я предлагаю ещё один вариант. Естественно, у него есть свои недостатки, но в некоторых случаях он подойдёт лучше, чем существующие решения.

Всё это началось, когда я обнаружила в SVG-спецификации свойство `text-anchor`. Оно определяет, куда ссылаются атрибуты `x` и `y` элемента `<text>` _(см. подробнее [про x](https://www.w3.org/TR/SVG/text.html#TextElementXAttribute "x") и [про y](https://www.w3.org/TR/SVG/text.html#TextElementYAttribute "y") в спецификации SVG. — прим. редактора)._ Волшебство начинается, когда мы задаем в качестве значения `middle` и атрибуты `x` и `y` указывают на центр текста. Так что если задать значения 50%, они будут указывать в центр SVG-контейнера. А если высота и ширина установлены в 100%, текст окажется в центре контейнера, которым может быть любой HTML-элемент!

Следует учитывать, что центрируется в том числе и базовая линия текста, так что я постаралась найти способ адекватно её сместить. Установка `dominant-baseline: middle` для элемента `<text>` вроде бы решила проблему везде, кроме IE. В результате я просто задала элементу `<text>` `dy=".3em"`, что сработало везде, но может требовать настройки сообразно реальной высоте строки _(см. подробнее [про элемент `<text>`](https://www.w3.org/TR/SVG/text.html#TextElement) и [про атрибут `dy`](https://www.w3.org/TR/SVG/text.html#TextElementDYAttribute) в спецификации SVG. — прим. редактора)._

Кроме того, я вижу у метода следующие недостатки:

- избыточная разметка (а именно, 2 элемента: `<svg>` и `<text>`);
- если текст занимает больше одной строки, вам придётся разбивать его на строки вручную;
- не получится применить некоторые новомодные CSS-свойства: например, `text-shadow` в Chrome будет работать, а в Firefox — нет, поскольку формально оно всё ещё не входит в спецификацию SVG;
- вам придётся дублировать цвет текста в свойстве `fill`, так как SVG не понимает СSS-свойство `color` (значение цвета из CSS можно получить с помощью `fill: currentColor` — _прим. редактора)._

Но есть и некоторые достоинства:

- не нужно трогать родительский контейнер;
- мягкая деградация в браузерах, не поддерживающих SVG;
- абсолютно доступный, не помешает SEO;
- отлично работает в IE9, в отличие от Flexbox;
- можно использовать любые стили для текста, доступные в SVG. Например, `stroke`!

Результат показан ниже, посмотреть на код и поиграть с ним [можно в Даблете](https://dabblet.com/gist/5229803).

<iframe src="https://dabblet.com/gist/5229803" width="510" height="510"></iframe>

Проверено в последних Chrome, Firefox, IE9+. Несмотря на то, что этот способ не подойдёт для всех случаев, надеюсь, он вам пригодится.
